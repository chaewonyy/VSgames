/* 기본 스타일 리셋 */
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  width: 100%;
  height: 100%;
  background: #a6d48f;
  color: #4f443b;
  font-family: "Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif;
  user-select: none;
}

/* 게임 컨테이너 */
#game-container {
  position: relative;
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 캔버스 */
canvas {
  background: transparent;
  display: block;
  width: 100%;
  height: 100%;
}

/* UI 레이어 */
#ui-layer {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

/* 상단 타이머 */
#timer {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #d2b48c;
  color: #fff;
  font-size: 2rem;
  font-weight: bold;
  padding: 10px 25px;
  border-radius: 20px;
  border: 5px solid #a08464;
  box-shadow: 0 6px 0 #745b43, 0 8px 10px rgba(0,0,0,0.2);
  text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
  white-space: nowrap;
}

/* 하단 좌측: HP, 레벨, 경험치 */
#hp-bar-container { position: absolute; bottom: 80px; left: 20px; width: 320px; height: 32px; background: #f5e8d9; border-radius: 999px; border: 4px solid #a08464; box-shadow: inset 0 3px 5px rgba(0,0,0,0.1); overflow: hidden; }
#hp-bar { width: 100%; height: 100%; background: linear-gradient(to right, #ff7b7b, #e94b4b); border-radius: 999px 0 0 999px; transition: width 0.3s ease-out; }
#hp-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-weight: bold; font-size: 1rem; color: #fff; text-shadow: 1px 1px 0 rgba(0,0,0,0.3); }
#level-container { position: absolute; bottom: 20px; left: 20px; width: 320px; display: flex; align-items: center; gap: 10px; }
#level-text { background: #f5e8d9; color: #745b43; font-weight: bold; font-size: 1.2rem; padding: 8px 15px; border-radius: 15px; border: 4px solid #a08464; box-shadow: 0 4px 0 #745b43; }
#xp-bar-container { flex-grow: 1; height: 20px; background: #f5e8d9; border-radius: 999px; border: 4px solid #a08464; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }
#xp-bar { width: 0%; height: 100%; background: linear-gradient(to right, #86eafc, #29c7e3); transition: width 0.3s ease-out; }

/* 우측 상단: 보유 능력 UI */
#upgrade-display {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 220px;
    max-height: 400px;
    background: rgba(252, 248, 240, 0.85);
    border: 4px solid #a08464;
    border-radius: 15px;
    padding: 10px 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    overflow-y: auto;
}
#upgrade-display h4 {
    margin: 0 0 10px 0;
    text-align: center;
    font-size: 1rem;
    color: #745b43;
    border-bottom: 2px solid #d2b48c;
    padding-bottom: 5px;
}
#upgrade-display ul {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
#upgrade-display li {
    font-size: 0.85rem;
    color: #5f4c3a;
    margin-bottom: 4px;
}

/* 오버레이 공통 */
.overlay { position: absolute; inset: 0; background: rgba(94, 75, 60, 0.6); display: none; flex-direction: column; justify-content: center; align-items: center; text-align: center; pointer-events: auto; color: #5f4c3a; padding: 20px; }
.overlay-panel { background: #fcf8f0; border-radius: 24px; border: 8px solid #d2b48c; padding: 30px 40px; box-shadow: 0 10px 0 #a08464, 0 15px 25px rgba(0,0,0,0.2); width: min(800px, 90vw); }
.overlay h1, .overlay h2 { font-size: 3rem; margin: 0 0 0.5em 0; }
.overlay p { font-size: 1.3rem; margin: 0 0 1.5em 0; }
.overlay button { pointer-events: auto; padding: 15px 30px; font-size: 1.4rem; font-weight: bold; cursor: pointer; background: #86c372; color: #fff; border: none; border-radius: 999px; box-shadow: 0 6px 0 #5a8e4f; transition: all 0.1s ease; text-shadow: 1px 1px 0 rgba(0,0,0,0.2); }
.overlay button:hover { transform: translateY(-2px); box-shadow: 0 8px 0 #5a8e4f; }
.overlay button:active { transform: translateY(4px); box-shadow: 0 2px 0 #5a8e4f; }

/* 레벨업 화면 */
#upgrade-options { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; margin-top: 10px; }
.upgrade-card { width: 200px; background: #fff; border: 5px solid #d2b48c; border-radius: 16px; padding: 20px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 6px 0 #b78b61; position: relative; }
.upgrade-card:hover { transform: translateY(-5px) scale(1.03); box-shadow: 0 10px 0 #b78b61; }
.upgrade-card h3 { margin: 0 0 10px 0; font-size: 1.1rem; }
.upgrade-card p { margin: 0; font-size: 0.9rem; color: #7c6a58; }

/* 희귀도 뱃지 */
.rarity-common { border-color: #d2b48c; box-shadow: 0 6px 0 #b78b61, 0 0 8px rgba(210, 180, 140, 0.5); }
.rarity-rare { border-color: #6495ED; box-shadow: 0 6px 0 #417de0, 0 0 12px rgba(100, 149, 237, 0.7); }
.rarity-epic { border-color: #9370DB; box-shadow: 0 6px 0 #7a5abc, 0 0 15px rgba(147, 112, 219, 0.8); }
.rarity-legend { border-color: #FFD700; box-shadow: 0 6px 0 #d4b500, 0 0 20px rgba(255, 215, 0, 0.9); }

/* 레벨업 컨트롤 힌트 */
.controls-hint { width: 100%; text-align: center; margin-bottom: 20px; font-size: 1.1rem; color: #7c6a58; font-weight: bold; }

/* 추방 모드 */
#upgrade-options.banish-mode .upgrade-card { border-color: #ff6347 !important; cursor: crosshair; }
#upgrade-options.banish-mode .upgrade-card:hover { box-shadow: 0 8px 0 #d9533a, 0 0 15px #ff6347; }

#start-screen, #pause-screen, #level-up-screen, #game-over-screen, #win-screen { display: none; /* JS will control display */ }
